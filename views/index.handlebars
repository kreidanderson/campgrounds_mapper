<h1></h1>

<div class="container">
    <div class="row">
    <div class="col">
        <div class="container np">
    <h2>Pick a state and search campsites</h2>
    <select name="statePick" id="statePick" class="select-dropdown"></select>
    <div id="state-view"></div>
  </div>
  <div id="activities">
    <ul>
      {{#each campgrounds}}
      <li>
        <p>ID: {{this.id}}</p>
        <p>Campsite Name: {{this.name}}</p>
        <p>State: {{this.state}}</p>
        <p class="location">Location: <span id="lat">{{this.latitude}}</span>, <span class="long">{{this.longitude}}</span></p>
        
        <form class="create-form">
        
          <div class="form-group">
            <label for="rating">Rating for this campsite</label>
            <input type="text" id="rating" name="name">
          </div>
        
          <button type="submit">Add Rating</button>
        </form>
        </li>
      
      {{/each}}
        </ul>
        </div>
    </div>

    </div>
  <div class="row">
    <div class="col">
      <div id="googleMap" style="width:700px;height:500px;"></div>
    </div>
    <div class="col">
      <table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Campground </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
    </tr>
    <tr>
      <th scope="row">2</th>
    </tr>
    <tr>
      <th scope="row">3</th>
    </tr>
  </tbody>
</table>
    </div>
  </div>
  <div class="row">
    <div class="col">
        <div class="container np">
        <h2>Pick a National Park</h2>
        <select name="nationalParks" id="nationalParks" class="select-dropdown"></select>
        <div id="np-view"></div>
    </div>
    <div class="col">
        <div id="activities">
                Activities?
    <div id="activity-view"></div>
  </div>
    </div>
</div>

</main>
<script>
function myMap() {
    var mapProp = {
      center: new google.maps.LatLng(39.833333, -98.583333),
      zoom: 4,
    };

    var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

<<<<<<< HEAD

=======
    // for whatever reason, google maps gets screwed up if I try to delete this marker.
>>>>>>> main
    var marker = new google.maps.Marker({
      // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
      position: { lat: 39.833333, lng: -98.583333 },
      map: map,
    })


    function addMarker(props) {
      const newMarker = new google.maps.Marker({
        // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
        position: props.coords,
        map: map,
        icon: props.iconImage

      });
    };

    addMarker({
      coords: { lat: 40.42977467, lng: -78.57431622 },

    });
    addMarker({
      coords: { lat: 35.514706, lng: -89.912506 },

    });

    google.maps.event.addListener(marker, 'click', function () {
      var pos = map.getZoom();
      map.setZoom(9);
      map.setCenter(marker.getPosition());
      window.setTimeout(function () { map.setZoom(pos); }, 3000);
    });

    $(".location").each((index) => {
<<<<<<< HEAD
      //debugger;

      // NEEd to figure out how to define latitude and longitude in the right scope.
      var latitude = $(this).find("#lat").val()
      var longitude = $(this).find("#long").val()
      debugger;
      addMarker({
        coords: { lat: latitude, lng: longitude },
      });
=======
      // console.log(index)
      // below we are finding all the lat and lng data in the html 
      console.log(this.lati)
      console.log(this.long)

      var latitude = this.lati[index].innerHTML
      // console.log(this.lati[index].innerHTML)
      var longitude = this.long[index].innerHTML

      // here we are looping through everything that is lati
      var latitudeArray = this.lati
      for (i = 0; i < latitudeArray.length; i++) {
        // console.log(latitudeArray[i].innerHTML)

      }
      // here we are looping though everything that is long
      var longitudeArray = this.long
      for (i = 0; i < longitudeArray.length; i++) {
        //  console.log(longitudeArray[i].innerHTML)

      }
      var htmlLat = this.lati[0].innerHTML
      var htmlLong = this.long[0].innerHTML
      // console.log(this.lati[0].innerHTML)

      var marker = new google.maps.Marker({
        // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
        position: {
          lat: parseFloat(htmlLat),
          lng: parseFloat(htmlLong)
        },
        map: map,
        icon: "tents.png"
      })

      var htmlLat1 = this.lati[1].innerHTML
      var htmlLong1 = this.long[1].innerHTML


      var marker = new google.maps.Marker({
        // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
        position: {
          lat: parseFloat(htmlLat1),
          lng: parseFloat(htmlLong1)
        },
        map: map,
        icon: "tents.png"
      })

      var htmlLat2 = this.lati[2].innerHTML
      var htmlLong2 = this.long[2].innerHTML


      var marker = new google.maps.Marker({
        // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
        position: {
          lat: parseFloat(htmlLat2),
          lng: parseFloat(htmlLong2)
        },
        map: map,
        icon: "tents.png"
      })

      var htmlLat3 = this.lati[3].innerHTML
      var htmlLong3 = this.long[3].innerHTML


      var marker = new google.maps.Marker({
        // WE WILL MANIPULATE THE MARKER POSITION AND ZOOM
        position: {
          lat: parseFloat(htmlLat3),
          lng: parseFloat(htmlLong3)
        },
        map: map,
        icon: "tents.png"
      })



>>>>>>> main
      // create new marker using lat and long
    });

  };

  // once the document loads...
  // grab all of the lats and longs of each camp site from the html
  // create a marker using those lats and longs.
  $(document).ready(() => {
    
  });
   


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBNSFmU_Tr3OE3j0g1xAXhLwrQC_h1fupA&callback=myMap"></script>

